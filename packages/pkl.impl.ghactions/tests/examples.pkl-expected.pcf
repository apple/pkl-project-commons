examples {
  ["checkout.pkl -- workflows/__lockfile__.yml"] {
    """
    #file: noinspection MandatoryParamsAbsent,UndefinedAction
    # This is a fake workflow that never runs.
    # It's used to pin actions to specific git SHAs when generating actual workflows.
    # It also gets updated by dependabot (see .github/dependabot.yml).
    # Generated from Workflow.pkl. DO NOT EDIT.
    name: __lockfile__
    'on':
      push:
        branches-ignore:
        - '**'
        tags-ignore:
        - '**'
    jobs:
      locks:
        if: 'false'
        runs-on: nothing
        steps:
        - name: actions/checkout@v6
          uses: actions/checkout@abc123 # v6
        - name: actions/upload-artifact@v5
          uses: actions/upload-artifact@abc123 # v5
    
    """
  }
  ["checkout.pkl -- dependabot.yml"] {
    """
    version: 2
    updates:
    - package-ecosystem: github-actions
      directory: /
      ignore:
      - dependency-name: '*'
        update-types:
        - version-update:semver-major
      schedule:
        interval: weekly
    
    """
  }
  ["checkout.pkl -- workflows/prb.yml"] {
    """
    # Generated from Workflow.pkl. DO NOT EDIT.
    name: Pull Request
    'on':
      pull_request: {}
    concurrency:
      group: ${{ github.workflow }}-${{ github.ref }}
      cancel-in-progress: true
    permissions:
      contents: read
    jobs:
      do-build:
        runs-on: ubuntu-latest
        steps:
        - uses: actions/checkout@abc123 # v6
          with:
            persist-credentials: false
      upload-event-file:
        runs-on: ubuntu-latest
        steps:
        - name: Upload event file
          if: '!cancelled()'
          uses: actions/upload-artifact@abc123 # v5
          with:
            name: test-results-event-file
            path: ${{ github.event_path }}
      check-pkl-github-actions:
        runs-on: ubuntu-latest
        steps:
        - uses: actions/checkout@abc123 # v6
          with:
            persist-credentials: false
        - name: Setup Pkl
          id: setup-pkl
          env:
            PKL_VERSION: 0.30.0
            PKL_FILENAME: pkl
            PKL_DOWNLOAD_URL: https://github.com/apple/pkl/releases/download/0.30.0/pkl-linux-amd64
          shell: bash
          run: |-
            DIR="$(mktemp -d /tmp/pkl-$PKL_VERSION-XXXXXX)"
            PKL_EXEC="$DIR/$PKL_FILENAME"
            curl -sfL -o $PKL_EXEC "$PKL_DOWNLOAD_URL"
            chmod +x $PKL_EXEC
            echo "$DIR" >> "$GITHUB_PATH"
            echo "pkl_exec=$PKL_EXEC" >> "$GITHUB_OUTPUT"
        - shell: bash
          run: rm -rf .github/**/[a-z]*.yml
        - shell: bash
          run: pkl eval -m .github/ --project-dir .github/ .github/index.pkl
        - name: check git status
          shell: bash
          run: |-
            if [ -n "$(git status --porcelain)" ]; then
              echo "Running pkl resulted in a diff! You likely need to run 'pkl eval' and commit the changes."
              git diff --name-only
              exit 1
            fi
    
    """
  }
  ["checkout.pkl -- workflows/main.yml"] {
    """
    # Generated from Workflow.pkl. DO NOT EDIT.
    name: Build (main)
    'on':
      push:
        branches:
        - main
        tags-ignore:
        - '**'
    concurrency:
      group: ${{ github.workflow }}-${{ github.ref }}
      cancel-in-progress: false
    permissions:
      contents: read
    jobs:
      do-build:
        runs-on: ubuntu-latest
        steps:
        - uses: actions/checkout@abc123 # v6
          with:
            persist-credentials: false
    
    """
  }
  ["checkout.pkl -- workflows/build.yml"] {
    """
    # Generated from Workflow.pkl. DO NOT EDIT.
    name: Build
    'on':
      push:
        branches-ignore:
        - main
        - release/*
        - dependabot/**
        tags-ignore:
        - '**'
    concurrency:
      group: ${{ github.workflow }}-${{ github.ref }}
      cancel-in-progress: false
    permissions:
      contents: read
    jobs:
      do-build:
        runs-on: ubuntu-latest
        steps:
        - uses: actions/checkout@abc123 # v6
          with:
            persist-credentials: false
    
    """
  }
  ["hawkeyeCheck.pkl"] {
    """
    # Generated from Workflow.pkl. DO NOT EDIT.
    name: hawkeye-check
    'on':
      push: {}
    jobs:
      hawkeye:
        name: hawkeye-check
        runs-on: ubuntu-latest
        steps:
        - uses: actions/checkout@v6
          with:
            ref: ${{ github.event_name == 'pull_request' && github.event.pull_request.head.sha || '' }}
            fetch-depth: 0
        - run: git config --global --add safe.directory $(pwd)
        - run: hawkeye check --config licenserc.toml --fail-if-unknown
        container:
          image: ghcr.io/korandoru/hawkeye@sha256:e0abf8dbfaeeeba1249679d662d9fb404b1dcdb041c6093ea1f7a6edb7d89319
    
    """
  }
  ["macosBuild.pkl -- workflows/__lockfile__.yml"] {
    """
    #file: noinspection MandatoryParamsAbsent,UndefinedAction
    # This is a fake workflow that never runs.
    # It's used to pin actions to specific git SHAs when generating actual workflows.
    # It also gets updated by dependabot (see .github/dependabot.yml).
    # Generated from Workflow.pkl. DO NOT EDIT.
    name: __lockfile__
    'on':
      push:
        branches-ignore:
        - '**'
        tags-ignore:
        - '**'
    jobs:
      locks:
        if: 'false'
        runs-on: nothing
        steps:
        - name: EnricoMi/publish-unit-test-result-action/macos@v2
          uses: EnricoMi/publish-unit-test-result-action/macos@abc123 # v2
        - name: EnricoMi/publish-unit-test-result-action@v2
          uses: EnricoMi/publish-unit-test-result-action@abc123 # v2
        - name: actions/checkout@v6
          uses: actions/checkout@abc123 # v6
        - name: actions/upload-artifact@v5
          uses: actions/upload-artifact@abc123 # v5
        - name: dawidd6/action-download-artifact@v11
          uses: dawidd6/action-download-artifact@abc123 # v11
    
    """
  }
  ["macosBuild.pkl -- dependabot.yml"] {
    """
    version: 2
    updates:
    - package-ecosystem: github-actions
      directory: /
      ignore:
      - dependency-name: '*'
        update-types:
        - version-update:semver-major
      schedule:
        interval: weekly
    
    """
  }
  ["macosBuild.pkl -- workflows/prb.yml"] {
    """
    # Generated from Workflow.pkl. DO NOT EDIT.
    name: Pull Request
    'on':
      pull_request: {}
    concurrency:
      group: ${{ github.workflow }}-${{ github.ref }}
      cancel-in-progress: true
    permissions:
      contents: read
    jobs:
      do-build:
        runs-on:
        - macos
        - self-hosted
        steps:
        - run: echo hello
        - name: Upload Test Result XML
          if: '!cancelled()'
          uses: actions/upload-artifact@abc123 # v5
          with:
            name: test-results-xml-do-build
            path: '**.xml'
            if-no-files-found: ignore
      upload-event-file:
        runs-on: ubuntu-latest
        steps:
        - name: Upload event file
          if: '!cancelled()'
          uses: actions/upload-artifact@abc123 # v5
          with:
            name: test-results-event-file
            path: ${{ github.event_path }}
      check-pkl-github-actions:
        runs-on: ubuntu-latest
        steps:
        - uses: actions/checkout@abc123 # v6
          with:
            persist-credentials: false
        - name: Setup Pkl
          id: setup-pkl
          env:
            PKL_VERSION: 0.30.0
            PKL_FILENAME: pkl
            PKL_DOWNLOAD_URL: https://github.com/apple/pkl/releases/download/0.30.0/pkl-linux-amd64
          shell: bash
          run: |-
            DIR="$(mktemp -d /tmp/pkl-$PKL_VERSION-XXXXXX)"
            PKL_EXEC="$DIR/$PKL_FILENAME"
            curl -sfL -o $PKL_EXEC "$PKL_DOWNLOAD_URL"
            chmod +x $PKL_EXEC
            echo "$DIR" >> "$GITHUB_PATH"
            echo "pkl_exec=$PKL_EXEC" >> "$GITHUB_OUTPUT"
        - shell: bash
          run: rm -rf .github/**/[a-z]*.yml
        - shell: bash
          run: pkl eval -m .github/ --project-dir .github/ .github/index.pkl
        - name: check git status
          shell: bash
          run: |-
            if [ -n "$(git status --porcelain)" ]; then
              echo "Running pkl resulted in a diff! You likely need to run 'pkl eval' and commit the changes."
              git diff --name-only
              exit 1
            fi
    
    """
  }
  ["macosBuild.pkl -- workflows/main.yml"] {
    """
    # Generated from Workflow.pkl. DO NOT EDIT.
    name: Build (main)
    'on':
      push:
        branches:
        - main
        tags-ignore:
        - '**'
    concurrency:
      group: ${{ github.workflow }}-${{ github.ref }}
      cancel-in-progress: false
    permissions:
      contents: read
    jobs:
      do-build:
        permissions:
          checks: write
        runs-on:
        - macos
        - self-hosted
        steps:
        - run: echo hello
        - name: Publish test results
          if: '!cancelled()'
          uses: EnricoMi/publish-unit-test-result-action/macos@abc123 # v2
          with:
            comment_mode: 'off'
            files: '**.xml'
    
    """
  }
  ["macosBuild.pkl -- workflows/build.yml"] {
    """
    # Generated from Workflow.pkl. DO NOT EDIT.
    name: Build
    'on':
      push:
        branches-ignore:
        - main
        - release/*
        - dependabot/**
        tags-ignore:
        - '**'
    concurrency:
      group: ${{ github.workflow }}-${{ github.ref }}
      cancel-in-progress: false
    permissions:
      contents: read
    jobs:
      do-build:
        permissions:
          checks: write
        runs-on:
        - macos
        - self-hosted
        steps:
        - run: echo hello
        - name: Publish test results
          if: '!cancelled()'
          uses: EnricoMi/publish-unit-test-result-action/macos@abc123 # v2
          with:
            comment_mode: 'off'
            files: '**.xml'
    
    """
  }
  ["macosBuild.pkl -- workflows/test_report.yml"] {
    """
    # Generated from Workflow.pkl. DO NOT EDIT.
    name: PR Test Reports
    'on':
      workflow_run:
        types:
        - completed
        workflows:
        - Pull Request
    permissions:
      contents: read
    jobs:
      test-results:
        name: Test Results
        if: github.event.workflow_run.conclusion == 'success' || github.event.workflow_run.conclusion == 'failure'
        permissions:
          actions: read
          checks: write
        runs-on: ubuntu-latest
        steps:
        - name: Download artifacts
          uses: dawidd6/action-download-artifact@abc123 # v11
          with:
            path: artifacts
            name: test-results-.*
            name_is_regexp: true
            run_id: ${{ github.event.workflow_run.id }}
        - name: Publish test results
          uses: EnricoMi/publish-unit-test-result-action@abc123 # v2
          with:
            commit: ${{ github.event.workflow_run.head_sha }}
            comment_mode: 'off'
            files: artifacts/**/*.xml
            event_file: artifacts/test-results-event-file/event.json
            event_name: ${{ github.event.workflow_run.event }}
    
    """
  }
}
